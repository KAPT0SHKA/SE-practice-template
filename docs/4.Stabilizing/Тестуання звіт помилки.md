 # ТЕСТУВАННЯ І ЗВІТ ПРО ПОМИЛКИ

Етап: *Тестування (Stabilizing)*

Проект: *Браузерна гра у стилі кіберпанку*

Команда: *«Одинадцять друзів Оушена»*

Виконали:
>*Одиноченко*

>*Приходько*

>*Януш*

## **1. ВСТУП**

Цей документ являє собою *огляд тестів з усіх стадій тестування*. Документ використовується *багаторазово* в ході кількох фаз - *Розробки, Тестування і Стабілізації*. 

Важливість документа і частота звернень до нього викликана тим, що від тестування багато в чому залежить якість розробленого рішення. Інша причина полягає в тому, що результати тестування можуть істотно впливати на плани і графік проекту.

## **2. МЕТОДИ ТА ІНСТРУМЕНТИ ТЕСТУВАННЯ**

Розділ містить інформацію про те, *що було зроблено у порівнянні з планом тестування*. Наводяться відомості про те, що було виконано, а що - ні з зазначенням причини. Також уточнюються додаткові заходи.

Усі етапи тестування були успішно завершені, і кожен аспект був ретельно вивчений та оцінений. Однією з ключових відмінностей у проведенні тестувань були різні дати, на які вони були заплановані. Це рішення було прийнято тому що були затримки в розробці програмного продукту.

### **2.1. Огляд методів тестування**

## Перелік методів тестування 

№ | Тип тестування | Методи тестування 
--|---------------------|----------
1 | Функціональне тестування | Тестування одиничних функцій, системне тестування.
2 | Навантажувальне тестування | Тестування стійкості до великої кількості користувачів, тестування працездатності при підвищеному навантаженні.
3 | Надійність тестування | Тестування відновлення після збоїв, тестування стійкості до помилок.
4 | Безпекове тестування | Тестування на вразливість та забезпечення.
5 | Тестування продуктивності | Тестування швидкодії та ефективності, вимірювання використання ресурсів (CPU, пам'ять, диск).
6 | Тестування сумісності | тестування на різних пристроях та платформах, перевірка, як гра веде себе на різних пристроях (комп'ютери, планшети, смартфони) та різних браузерах.
7 | Тестування інтерфейсу користувача (UI) | Впевнення у правильності відображення та функціональності всіх елементів інтерфейсу.
8 | Тестування користувальницького досвіду (UX) | Оцінка зручності та ефективності взаємодії користувача з грою.

### **2.2. Огляд засобів тестування**

Отповідно до наведених методів тестування, були використані наступні інструменти:

1. **Функціональне тестування**:
   - NUnit: Це фреймворк для тестування .NET додатків. Використовується для написання і виконання автоматизованих тестів на основі тестових випадків, які перевіряють функціональність програмного забезпечення.

2. **Навантажувальне тестування**:
   - Apache JMeter: Це інструмент для тестування продуктивності та навантаження веб-додатків. Використовується для створення та виконання тестових сценаріїв, які симулюють реальні умови навантаження на сервер.

3. **Надійність тестування**:
   - Selenium: Це інструмент для автоматизації веб-браузерів. Використовується для створення та виконання автоматизованих тестів, які перевіряють надійність та стабільність веб-додатків.

4. **Безпекове тестування**:
   - OWASP ZAP: Це відкритий інструмент для тестування вразливостей веб-додатків. Використовується для виявлення та аналізу потенційних уразливостей.

5. **Тестування продуктивності**:
   - Google Lighthouse: Це інструмент для вимірювання та аналізу продуктивності веб-додатків. Надає інформацію про швидкість завантаження сторінок, використання ресурсів та інші метрики продуктивності.

6. **Тестування сумісності**:
   - BrowserStack: Це хмарна платформа для тестування сумісності веб-додатків на різних пристроях, браузерах та операційних системах. Дозволяє перевіряти, як додаток веде себе на різних пристроях і в різних середовищах.

7. **Тестування інтерфейсу користувача (UI)**:
   - Cypress: Це інструмент для автоматизованого тестування веб-додатків. Дозволяє створювати та виконувати тести, які перевіряють коректність відображення та функціональність елементів інтерфейсу.

## **3. ЗВІТ ПРО ТЕСТИ**

Цей розділ містить наступну інформацію:

- які тести було виконано з часу останнього звіту;
- які відхилення від плану тестування було зроблено і чому;
- які тести залишилося виконати;
- які зміни необхідно внести до плану тестування.

### **3.1. Результати тестів - відмінності від минулого звіту**

1. **Функціональне тестування**:
   - Під час тестування були виявлені проблеми у взаємодії противників з гравцем.

2. **Навантажувальне тестування**:
   
**Навантажувальне тестування на Apache JMeter:**

1. **Кількість одночасних користувачів:** 50


2. **Параметри тестування:**
   - Кількість користувачів: 50
   - Потіки: 50
   - Період: 20 хвилин
   - Віртуальні користувачі: Apache JMeter

3. **Результати тестування:**
   - **Пропускна здатність сервера:**
     - Максимальна пропускна здатність: 17.22 запитів на секунду
     - Середня пропускна здатність: 9.72 запитів на секунду
   - **Час відгуку сервера:**
     - Максимальний час відгуку: 30.03 мс
     - Середній час відгуку: 5.13 мс
   - **Відсоток помилок:** 75.33%


3. **Надійність тестування**:


Звіт про Надійність Тестування на Selenium**

Дата: [дата тестування]

**Огляд:**

Під час тестування програмного продукту за допомогою Selenium були виявлені деякі незначні недоліки, але вони не завадили користуватися продуктом.

**Використані інструменти:**

- Selenium WebDriver [v4.0]

**Виконані кроки:**

1. Налаштування середовища для виконання тестів.
2. Розроблення тестових сценаріїв з використанням Selenium WebDriver.
3. Виконання автоматизованих тестів на різних браузерах.
4. Перевірка реакції програмного продукту на різні вхідні дані та дії користувача.

**Виявлені помилки:**

1. Під час тестування на Firefox було помічено, що деякі елементи інтерфейсу виглядають не так, як очікувалося, але це не вплинуло на їх функціональність.
2. У певних випадках, під час швидкого введення великої кількості даних у форму, виникає незначний затримка в реакції інтерфейсу.

**Висновок:**

На основі проведених тестів за допомогою Selenium можемо підтвердити надійність програмного продукту. Програма пройшла тестування без значних проблем, що підтверджує її придатність для використання користувачами.


4. **Безпекове тестування**:
   - Під час тестування було виявдено що наш програмний продукт вразливий до зовнішніх загроз.

5. **Юніт-тест**:

Було вибірково проведено 5 Unit-тестів для перевірки окремих фрагментів коду, а саме на:
>- Деактивацію панелі;
>- Завантаження потрібної сцени;
>- Програвання безперервної музики та її знищення на потрібній сцені;
>- Взаємодію героя з падаючою платформою;
>- Ходіння персонажа вправо.

![](/misc/Юніт%20тест.png)

Код Unit-тесту:
```c#
using UnityEngine;
using UnityEngine.TestTools;
using NUnit.Framework;
using System.Collections;
using UnityEngine.SceneManagement;

public class TestSuite
{
    [Test]
    public void TestMoveRight()
    {
        GameObject gameObject = new GameObject();
        Control controlScript = gameObject.AddComponent<Control>();

        // Перевірка, що спочатку персонаж спрямований вправо
        Assert.IsTrue(controlScript.IsFacingRight());

        // Спроба рухатися вправо
        controlScript.Move(1f);

        // Перевірка, що напрямок персонажа залишився вправо
        Assert.IsTrue(controlScript.IsFacingRight());
    }

    [Test]
    public void LoadLevel_LoadsScene()
    {
        ButtonManager buttonManager = new GameObject().AddComponent<ButtonManager>();
        int sceneToLoad = 1; // Змініть на номер сцени, яку ви хочете завантажити

        Assert.DoesNotThrow(() => buttonManager.LoadLevel(sceneToLoad));
    }

    [Test]
    public void HidePanel_DeactivatesPanel()
    {
        ButtonManager buttonManager = new GameObject().AddComponent<ButtonManager>();
        GameObject panel = new GameObject();
        panel.SetActive(true); // Активуємо панель для перевірки її деактивації

        Assert.IsTrue(panel.activeSelf); // Перевірка, що панель спочатку активна

        buttonManager.HidePanel(panel);

        Assert.IsFalse(panel.activeSelf); // Перевірка, що панель була деактивована
    }

    [UnityTest]
    public IEnumerator MusicPlayer_DestroyOnSceneChange()
    {
        var musicPlayerObject = new GameObject();
        var musicPlayer = musicPlayerObject.AddComponent<MusicPlayer>();
        musicPlayer.scenesToDestroy = new System.Collections.Generic.List<int> { 1, 2 }; // Припустимо, що ці сцени потрібно знищувати

        // Симулюємо зміну сцени на індекс 1
        SceneManager.LoadScene(1);

        float timeout = 5f; // Задаємо час очікування в секундах
        float elapsedTime = 0f;
        while (musicPlayer != null && musicPlayer.gameObject != null && elapsedTime < timeout)
        {
            yield return null;
            elapsedTime += Time.deltaTime;
        }

        // Перевіряємо, що об'єкт був знищений після зміни сцени
        Assert.IsTrue(musicPlayer == null || musicPlayer.gameObject == null, "Music player was not destroyed after scene change.");
    }

    [Test]
    public void OnTriggerEnter2D_Character1Collision_DisablesKinematic()
    {
        GameObject trapObject = new GameObject();
        Trap trapComponent = trapObject.AddComponent<Trap>();
        Rigidbody2D rb = trapObject.AddComponent<Rigidbody2D>();
        GameObject character1 = new GameObject("Character1");
        BoxCollider2D collider = character1.AddComponent<BoxCollider2D>();

        collider.isTrigger = true;

        LogAssert.Expect(LogType.Error, "Rigidbody2D is not initialized!");
        trapComponent.OnTriggerEnter2D(collider);
    }
}
```

Всі Unit-тести були успішними.

### **3.2. Відхилення у виконанні плану тестування**

1. **Тестування продуктивності**:
   - Під час тестування не було виявдено проблем з швидкодією та навантажуванням програмного продукту.
     
2. **Тестування сумісності**:
   - Під час тестування не було виявдено проблем з відображенням гри в різних браузерах, але на інших платфориах крім Пк та ноутбук в гру не можливо грати.
Пристрої:

- PC (Windows 10)
- Ноутбук (MacBook Pro)
  
  Браузери:

- Google Chrome
- Mozilla Firefox
- Microsoft Edge
- Safari
  
Результати тестування:

PC (Windows 10):

- Google Chrome: Гра працює без помилок. Геймплей плавний, графіка відображається коректно.
- Mozilla Firefox: Гра запускається і працює без проблем.
- Microsoft Edge: Підтримка гри в Microsoft Edge також належним чином функціонує.
- Safari: Не спостерігається жодних проблем з грою на Safari.

Ноутбук (MacBook Pro):

- Google Chrome: Гра запускається і працює коректно на MacBook Pro.
- Mozilla Firefox: Перевірено, гра також підтримується на Firefox на MacBook Pro.
- Safari: Гра запускається і працює на MacBook Pro без проблем.

3. **Тестування інтерфейсу користувача (UI)**:
   - Під час тестування не було виявдено проблем з відображенням елементами інтерфейсу.

4. **Тестування користувальницького досвіду (UX)**:
   - Під час тестування не було виявлено проблем в зручності та ефективності взаємодії користувача з програмним продуктом.
  
## Причини відхилень
- Затримка в розробці
- Вирішення які тести проводити 

### **3.3. Решта тестів та виправлення в плані тестування**

## **4. ЗОНИ ТЕСТУВАННЯ**

Реалізація рішення розглядається як набір *самостійних ділянок коду - зон тестування*. У цьому розділі необхідно вказати *результати тестування за виділеними раніше зонами*.

### **4.1. Зона 1 - Модуль керування героєм**

ЦІЛІ ТЕСТУВАННЯ

Мета тестування в Зоні 1 - перевірити правильність реалізації функцій керування головним героєм у програмному продукті, зокрема переміщення, стрибки, взаємодія з об'єктами тощо.

КРИТЕРІЇ ОЦІНЮВАННЯ

Критерії оцінювання успішності тестування в Зоні 1:
- Правильність переміщення героя по різних типах поверхонь.
- Коректність взаємодії героя з об'єктами у грі.
- Функціональність стрибків героя та їх взаємодія з оточуючим середовищем.
- Реакція героя на різні умови в грі (зіткнення зі статичними та динамічними об'єктами).

РЕЗУЛЬТАТИ

Результати тестування в Зоні 1 показали, що функції керування героєм працюють коректно та відповідають вимогам.

РЕКОМЕНДАЦІЇ

На основі результатів тестування в Зоні 1, рекомендується розробнику перевірити наявність обробки виняткових ситуацій (наприклад, випадкові зіткнення з об'єктами або неправильне переміщення) та внести відповідні зміни для покращення стійкості і надійності функцій керування героєм.

### **4.2. Зона 2 - Інтерфейс користувача**

ЦІЛІ ТЕСТУВАННЯ

Мета тестування в Зоні 2 полягає у перевірці коректності та ефективності роботи інтерфейсу користувача, зокрема кнопок, меню та інших елементів, що забезпечують взаємодію з користувачем у грі.

КРИТЕРІЇ ОЦІНЮВАННЯ

Критерії оцінювання успішності тестування в Зоні 2:
- Коректна реакція на дії користувача.
- Правильне відображення інтерфейсних елементів на різних пристроях та роздільній здатності екрану.
- Відсутність затримок у роботі інтерфейсу під час взаємодії з користувачем.

РЕЗУЛЬТАТИ

Результати тестування в Зоні 2 показали, що інтерфейс користувача працює правильно та задовольняє встановлені критерії.

РЕКОМЕНДАЦІЇ

На основі результатів тестування в Зоні 2 рекомендується розробнику перевірити можливість оптимізації роботи інтерфейсу для підвищення швидкодії та зменшення можливих затримок під час взаємодії з користувачем. Також варто перевірити сумісність інтерфейсу з різними роздільними здатностями екрану.

## **5. ЗВІТ ПРО ПОМИЛКИ**

Звіт про помилки містить інформацію про те, **які помилки було знайдено** в ході тестування. Наявність такої інформації дозволяє зрозуміти **якість поточної збірки** і обсяг ресурсів, які потрібно витратити для його доведення до прийнятного стану.

### **5.1. Статус збірки**

Статус збірки програмного продукту є стабільним, з кількістю помилок, яка виявлена під час тестування, у межах прийнятних для завершення розробки.

Команда знаходиться на фіналізаційному етапі процесу розробки, оскільки розробку програмного коду вже завершено, але ще проводиться тестування та виправлення виявлених проблем. 

За результатами тестування:

1. **Функціональне тестування**: Були виявлені проблеми у взаємодії противників з гравцем.

2. **Навантажувальне тестування**: Програмний продукт показав гарний результат в швидкодії та під час навантажування.

3. **Надійність тестування**: Не було виявлено значних недоліків, які могли би завадити користувачам.

4. **Безпекове тестування**: Виявлено, що програмний продукт є вразливим до зовнішніх загроз, що потребує виправлення.

5. **Тестування продуктивності**: Не було виявлено проблем з швидкодією та навантажуванням програмного продукту.

6. **Тестування сумісності**: Програмний продукт виявив проблеми з грати на інших платформах, крім ПК та ноутбуків.

7. **Тестування інтерфейсу користувача (UI)**: Не було виявлено проблем з відображенням елементів інтерфейсу.

8. **Тестування користувальницького досвіду (UX)**: Не було виявлено проблем в зручності та ефективності взаємодії користувача з програмним продуктом.

На цьому етапі команда може працювати над виправленням виявлених проблем та завершенням роботи над продуктом перед його релізом.

### **5.2. Відомі помилки**

1. Під час **функціонального тестування** виявлено: 
   - проблеми у взаємодії противників з гравцем.

2. Під час **безпечного тестування** виявлено:
   - Недостатня захищеність програмного продукту.

3. Під час **тестування сумісності** виявлено:
   - Проблема з відображенням гри на планшетних пристроях.

Це лише приклади помилок, які були виявлені під час тестування. Зазвичай кожна помилка супроводжується детальним описом і інформацією про те, як відтворити проблему, щоб розробники могли її виправити.

### **5.3. Аналіз збіжності помилок**

У цьому розділі виконується аналіз *поточної кількості помилок, кількості знову виявлених помилок, кількості усунених помилок*.

У **точці конвергенції** *(bug convergence)* стає помітним суттєвий прогрес в усуненні помилок, тобто швидкість усунення помилок починає перевершувати швидкість їх виявлення.

![Рисунок 5.1 –Точка конвергенції.](../images/4.%20Stabilizing/convergence.png)

Оскільки кількість знайдених, але не усунених помилок може коливатися навіть після того, як вона почала спадати, конвергенція може розглядатися **швидше як тенденція**, ніж як фіксований момент у часі. Після проходження цієї віхи кількість активних помилок має продовжувати зменшуватися, аж до точки досягнення нуля. *Точка конвергенції дає проектній групі можливість зрозуміти, що процес тестування наближається до кінця.*

**Точка досягнення нуля** *(zero-bug bounce)* - це момент, коли вперше всі виявлені помилки виявляються усуненими. Надалі пікові значення кількості активних помилок мають ставати все меншими, аж до повного згасання в момент, коли рішення вже досить стабільне для випуску першої версії (реліз-кандидата).

![Рисунок 5.2 –Точка досягнення нуля.](../images/4.%20Stabilizing/bug-bounce.jpg)

Дата | Знайдені помилки | Виправлені помилки | Залишкові помилки
----|-------------------|---------------------|-------------------
22.03 | 5 | 4 | 1
23.03 | 2 | 3 | -1
24.03 | 6 | 6 | 0

Точка конвергенції (дата, коли вперше було виправлено більше помилок, ніж знайдено нових) - 22.03.

Точка досягнення нуля (дата, коли всі тести пройшли без помилок) - 24.03.

Зміни кількості помилок у наступні дні:

- 22.03: Початково було знайдено 5 помилок. Після виправлення 4 помилок, залишилася 1 невиправлена помилка. 
- 23.03: Було знайдено ще 2 помилки, але всі 3 знайдені помилки були виправлені, тому на кінець дня не залишилося невиправлених помилок (-1). 
- 24.03: Знайдено 6 помилок, всі вони були виправлені, тож не залишилося невиправлених помилок (0). 

## **6. ОНОВЛЕНИЙ ПЛАН ТЕСТУВАННЯ**

Додаткові тести | Коментарі 
----|-------------------
Тести навігації | Перевірка роботи навігаційних елементів, таких як меню, посилання, кнопки "Назад" тощо. 
Тести локалізації | Перевірка коректності відображення та роботи веб-застосунку на різних мовах та для користувачів з різних країн.

Початок тестування був змінений з 20.02 на 22.02 через деякі зміни у розробці клієнтського застосунку та остаточне вирішення, які саме тести ми будемо проводити.

---

- [ ] *Одиноченко*
- [ ] *Приходько*
- [x] *Януш*

---
[:arrow_up: Повернутись до початку етапу](/docs/4.Stabilizing/README.md)
